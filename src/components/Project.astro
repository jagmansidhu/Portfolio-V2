---
const { title, desc, tech, projectLink, githubLink } = Astro.props;

// Determine if there is a project link to decide whether to render an <a> tag
const hasProjectLink = projectLink && projectLink !== "cheese" && projectLink !== "";
---

<div class="single-item">
  <div class="project-header">
    <h3>
      {hasProjectLink ? (
        <a href={projectLink} class="project-title-link" target="_blank">
          {title}
        </a>
      ) : (
        <span class="project-title-static">{title}</span>
      )}
    </h3>
    
    {githubLink && (
      <a href={githubLink} class="github-icon-link" target="_blank" rel="noopener noreferrer">
        <svg 
          xmlns="http://www.w3.org/2000/svg" 
          width="20" height="20" viewBox="0 0 24 24" 
          fill="none" stroke="currentColor" stroke-width="2" 
          stroke-linecap="round" stroke-linejoin="round"
        >
          <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
        </svg>
      </a>
    )}
  </div>

  <div class="project-desc project-desc-list w-richtext">
    <ul role="list">
      {desc.map(item => <li>{item}</li>)}
    </ul>
  </div>

  <div class="mini-label-white">Technologies &amp; tools</div>
  <div class="chips-container">
    {tech.map(techItem => <div class="single-chip">{techItem}</div>)}
  </div>
</div>

<style>
  .project-header {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 10px;
  }

  h3 { margin: 0; }

  /* Default Title Style (No Link) */
  .project-title-static {
    color: inherit;
    cursor: default;
  }

  /* Link Title Style (With Link) */
  .project-title-link {
    text-decoration: none;
    color: inherit;
    transition: color 0.2s ease;
  }

  .project-title-link:hover {
    color: #000; /* Darker shading */
    text-decoration: underline;
  }

  /* GitHub Logo Styles */
  .github-icon-link {
    color: #666;
    display: flex;
    transition: color 0.2s ease, transform 0.2s ease;
  }

  .github-icon-link:hover {
    color: #000;
    transform: translateY(-1px);
  }
</style>